{# templates/includes/header_admin.html #}
<header class="bg-blue-600 text-white shadow-lg p-4">
  <div class="container mx-auto flex flex-wrap justify-between items-center">
    <div class="flex items-center">
      <a href="{% url 'panel_inicio' %}" class="text-xl font-bold">Mi Aplicación</a>
    </div>

    <div class="lg:hidden">
      <button class="btn btn-ghost" onclick="document.getElementById('sidebar_menu').showModal()">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
             stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
             d="M4 6h16M4 12h16M4 18h16" /></svg>
      </button>
    </div>

    <nav class="hidden lg:flex items-center space-x-6">
      <a href="{% url 'panel_inicio' %}" class="hover:text-blue-200 transition-colors">Inicio</a>
      <a href="{% url 'usuario_listar' %}" class="hover:text-blue-200 transition-colors">Usuarios</a>
      <a href="{% url 'rol_listar' %}" class="hover:text-blue-200 transition-colors">Roles</a>
      <a href="{% url 'cliente_listar' %}" class="hover:text-blue-200 transition-colors">Clientes</a>
      <a href="{% url 'asociar_cliente_usuario_form' %}" class="hover:text-blue-200 transition-colors">Asociar Cliente a Usuario</a>

      <div class="dropdown dropdown-end ml-6">
        <label tabindex="0" class="btn btn-ghost btn-circle avatar">
          <div class="w-10 rounded-full bg-blue-300 flex items-center justify-center">
            <span class="text-lg font-bold text-white">{{ request.user.nombre|default:'U'|first|upper }}</span>
          </div>
        </label>
        <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52 text-blue-800">
          <li class="p-2 border-b border-gray-200">
            <span class="font-semibold">{{ request.user.nombre|default:'Usuario' }}</span>
            <span class="text-xs">{{ request.user.email|default:'Sin email' }}</span>
          </li>
          <li><a>Mi Perfil</a></li>
          <li><a href="{% url 'panel_inicio' %}" class="text-red-500">Cerrar Sesión</a></li>
        </ul>
      </div>
    </nav>
  </div>

  {# Sidebar móvil (idéntico al que ya usas) #}
  <dialog id="sidebar_menu" class="modal">
    <div class="modal-box w-full max-w-xs p-0 rounded-lg shadow-lg">
      <form method="dialog">
        <button type="button" class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2" onclick="document.getElementById('sidebar_menu').close()">✕</button>
      </form>
      <nav class="menu p-4 text-blue-800">
        <a href="{% url 'panel_inicio' %}" class="mb-3 block py-2 px-3 rounded hover:bg-blue-100 transition">Inicio</a>
        <a href="{% url 'usuario_listar' %}" class="mb-3 block py-2 px-3 rounded hover:bg-blue-100 transition">Usuarios</a>
        <a href="{% url 'rol_listar' %}" class="mb-3 block py-2 px-3 rounded hover:bg-blue-100 transition">Roles</a>
        <a href="{% url 'cliente_listar' %}" class="mb-3 block py-2 px-3 rounded hover:bg-blue-100 transition">Clientes</a>
        <a href="{% url 'asociar_cliente_usuario_form' %}" class="mb-3 block py-2 px-3 rounded hover:bg-blue-100 transition">Asociar Cliente a Usuario</a>

        <div class="border-t my-3"></div>
        <div class="mb-3 flex items-center space-x-2">
          <div class="w-8 h-8 rounded-full bg-blue-300 flex items-center justify-center">
            <span class="text-base font-bold text-white">{{ request.user.nombre|default:'U'|first|upper }}</span>
          </div>
          <div>
            <span class="font-semibold block">{{ request.user.nombre|default:'Usuario' }}</span>
            <span class="text-xs block">{{ request.user.email|default:'Sin email' }}</span>
          </div>
        </div>
        <a href="#" class="mb-3 block py-2 px-3 rounded hover:bg-blue-100 transition">Mi Perfil</a>
        <a href="{% url 'panel_inicio' %}" class="block py-2 px-3 rounded text-red-500 hover:bg-red-100 transition">Cerrar Sesión</a>
      </nav>
    </div>
  </dialog>
</header>
